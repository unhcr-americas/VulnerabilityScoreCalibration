# Module UI Home

#' @title mod_home_ui and mod_home_server
#' @description A shiny module.
#' @import shiny
#' @import shinydashboard
#' @noRd
#' @keywords internal

mod_home_ui <- function(id) {
  ns <- NS(id)
  tabItem(
    tabName = "home",
    absolutePanel(  ## refers to a css class
      id = "splash_panel", top = 0, left = 0, right = 0, bottom = 0,
      ### Get the name for your tool
      p(
        tags$span("Vulnerability Score ",
                  tags$i(style = 'font-size: 12rem;color:#0072BC;',
                         class = "fa-solid fa-stethoscope"), style = "font-size: 70px"),
        tags$span("Calibration",
                  style = "font-size: 34px") #,

      ),
      br(),
      ### Then a short explainer
      p( "The usage of Vulnerability Scores is among the key tools to implement
              when specific humanitarian Interventions, such as Cash Based Assistance,
              requires to be targeted and prioritized for certain beneficiaries.",
         style = "font-size: 20px"),
         br(),
         p( "In most humanitarian settings, obtaining data with good statistical
              representativenesss is challenging (volatile environment,
         hidden population to sample..) and the default option is to use expert
         opinions in order to select and weight each of the vulnerability indicators
         to be included in the score.",
         style = "font-size: 20px"),
      hr(),

      p( "This app provides easy access to advanced methods for the calibration of
      vulnerability scorecard through expert opinions, allowing to quickly build buy-in and consensus among consulted experts
      while ensuring full transparency. ",
         style = "font-size: 14px"),

      p( "This is done through 2 stages:
         1)Quadratic Voting to assess the relevance of vulnerability indicators  and
         2) Conjoint Analysis to determine their relative importance and weight of each indicators",
        style = "font-size: 14px"),
      # br(),
      # fluidRow(
      #   actionButton(NS(id, "go_to_firstmod"),
      #                label = "Start Exploring",
      #                width = "150px",
      #                style='font-size: 16px; color: #18375F',
      #                icon = icon("chevron-right")),
      #   style = "font-size: 18px; text-align: right;"
      # ),
      br(),
      p(tags$i( class = "fa fa-github"),
        "App built with ",
        tags$a(href="https://edouard-legoupil.github.io/graveler/",
               "{graveler}" ),
        " -- report ",
        tags$a(href="https://github.com/unhcr-americas/VulnerabilityScoreCalibration/issues",
               "issues here." ,
        ),
        style = "font-size: 10px")
    )
  )
}

# Module Server
#' @import shiny
#' @import shinydashboard
#' @noRd
#' @keywords internal

mod_home_server <- function(input, output, session) {
  ns <- session$ns
  # This create the links for the button that allow to go to the next module
  # observeEvent(input$go_to_firstmod, {
  #   shinydashboard::updateTabItems(
  #     session = parent_session,
  #     inputId = "tab_selected",
  #     selected = "firstmod"
  #   )
  # })
}

## copy to body.R
# mod_home_ui("home_ui_1")

## copy to app_server.R
# callModule(mod_home_server, "home_ui_1")

## copy to sidebar.R
# menuItem("displayName",tabName = "home",icon = icon("user"))


